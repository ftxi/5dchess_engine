<!DOCTYPE html>
<html>
<head>
  <title>Wasm Test</title>
    <script src="engine.js"></script>
    <script>
      createModule().then(engine_wasm => {
        console.log('Module loaded!');
        let g0 = engine_wasm.from_pgn('[Board "Standard"]');
        if(!g0.success)
        {
          alert(g0.message);
          return;
        }
        let g = g0.game;
        console.log(g);
        let mvs = g.gen_move_if_playable({l:0,t:1,x:1,y:0,c:true});
        console.log(`moves: ${mvs}, first move: l=${mvs[0].l}, t=${mvs[0].t}, x=${mvs[0].x}, y=${mvs[0].y}`);

        g.suggest_action();
        g.suggest_action();
        g.suggest_action();

        let suggestions = g.get_child_moves();

        console.log('suggested actions:');
        console.log(suggestions);
        g.visit_child(suggestions[0]);
        document.getElementById("txt").innerText = g.show_pgn();

        console.log(g.get_current_boards());
      });
    </script>
    <style>
    body{
      background:#808080;
      display:grid;
      place-items:center;
      min-height:100vh;
      margin:0;
    }
    .triangle{
      border:100px solid transparent;
      border-bottom:173px solid #ff416c;
      animation:glow 0.666s infinite alternate;
    }
    @keyframes glow{
      0%{
        filter:drop-shadow(0 0 10px #ff416c) drop-shadow(0 0 15px #ff416cbb);
      }
      100%{
        filter:drop-shadow(0 0 25px #ff416c) drop-shadow(0 0 40px #ff416cee) drop-shadow(0 0 60px #ff416c88);
      }
    }
    </style>
</head>
<body>
  <p id="txt">123</p>
  <div class="triangle" onclick="alert('123')"></div></body>
</body>
</html>
